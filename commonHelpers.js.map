{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/helpers/get-data.js","../src/js/helpers/set-data-ls.js","../src/js/add-item.js","../src/main.js"],"sourcesContent":["export default {\n  cart: document.querySelector('#task-list'),\n  form: document.querySelector('#task-form'),\n  mainTitle: document.createElement('h3'),\n  clearButton: document.createElement('button'),\n};\n","export default function getData(key) {\n\treturn JSON.parse(localStorage.getItem(key)) || [];\n}","export default function setDataLS(key, data){\n   localStorage.setItem(key, JSON.stringify(data));\n}","import { nanoid } from 'nanoid'\n\nimport getData from './helpers/get-data';\n\nimport setDataLS from './helpers/set-data-ls';\n\nexport default function addItem(product) {\n\tconst productObj = {\n\t\tid: nanoid(),\n\t\tname: product,\n\t};\n\n\tconst cartContent = getData('cart');\n\tcartContent.push(productObj);\n    setDataLS('cart', cartContent);\n}","\nimport refs from \"./js/refs\";\n\nimport getData from \"./js/helpers/get-data\";\n\nimport addItem from './js/add-item';\n\nconst {cart, clearButton, form, mainTitle} = refs;\n\n\n//////////// функція для видалення товару з бази даних ////////////\n\nfunction removeItem(buttonID) {\n\tlocalStorage.setItem(\n\t\t'cart',\n\t\tJSON.stringify(getData('cart').filter(product => product.id !== buttonID)),\n\t);\n}\n\n//////////// функція для відображення доданого товару у кошику ////////////\n\nfunction renderItem(product) {\n\tconst productElement = document.createElement('li');\n\tsetTimeout(() => {\n\t\tproductElement.classList.toggle('rendered');\n\t}, 250);\n\tproductElement.textContent = product;\n\n\tconst removeButton = document.createElement('button');\n\tremoveButton.setAttribute('type', 'button');\n\tremoveButton.setAttribute(\n\t\t'data-id',\n\t\t`${getData('cart').findLast(x => x.name === product).id}`,\n\t);\n\tremoveButton.textContent = 'Видалити';\n\n\tremoveButton.addEventListener('click', e => {\n\t\tproductElement.classList.toggle('rendered');\n\t\tsetTimeout(() => {\n\t\t\tremoveItem(e.target.dataset.id);\n\t\t\tcart.removeChild(e.target.parentElement);\n\t\t}, 160);\n\t});\n\n\tproductElement.appendChild(removeButton);\n\tcart.appendChild(productElement);\n}\n\n//////////// функція для відображення кошика ////////////\n\nfunction renderCart() {\n\tif (!getData('cart').length) {\n\t\tcart.innerHTML = '';\n\t\treturn;\n\t}\n\tcart.innerHTML = '';\n\tconst cartContent = getData('cart');\n\tcartContent.forEach(product => renderItem(product.name));\n}\n\n//////////// функція для очистки кошика ////////////\n\nfunction resetCart() {\n\tlocalStorage.removeItem('cart');\n\trenderCart();\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n\n\nmainTitle.textContent = 'Мій кошик:';\nform.before(mainTitle);\nclearButton.classList.add('js-clear-button');\nclearButton.setAttribute('type', 'button');\nclearButton.textContent = 'Очистити кошик';\nform.append(clearButton);\n\nform.addEventListener('submit', e => {\n\te.preventDefault();\n\tif (!form.elements.taskName.value.trim()) {\n\t\tform.reset();\n\t\treturn;\n\t}\n\n\tconst productName = form.elements.taskName.value.trim();\n\n\taddItem(productName);\n\trenderItem(productName);\n\tform.reset();\n});\n\nclearButton.addEventListener('click', resetCart);\n\nrenderCart();\n"],"names":["refs","getData","key","setDataLS","data","addItem","product","productObj","nanoid","cartContent","cart","clearButton","form","mainTitle","removeItem","buttonID","renderItem","productElement","removeButton","x","e","renderCart","resetCart","productName"],"mappings":"svBAAA,MAAeA,EAAA,CACb,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,YAAY,EACzC,UAAW,SAAS,cAAc,IAAI,EACtC,YAAa,SAAS,cAAc,QAAQ,CAC9C,ECLe,SAASC,EAAQC,EAAK,CACpC,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,GAAK,EACjD,CCFe,SAASC,EAAUD,EAAKE,EAAK,CACzC,aAAa,QAAQF,EAAK,KAAK,UAAUE,CAAI,CAAC,CACjD,CCIe,SAASC,EAAQC,EAAS,CACxC,MAAMC,EAAa,CAClB,GAAIC,EAAQ,EACZ,KAAMF,CACR,EAEOG,EAAcR,EAAQ,MAAM,EAClCQ,EAAY,KAAKF,CAAU,EACxBJ,EAAU,OAAQM,CAAW,CACjC,CCRA,KAAM,CAAC,KAAAC,EAAM,YAAAC,EAAa,KAAAC,EAAM,UAAAC,CAAS,EAAIb,EAK7C,SAASc,EAAWC,EAAU,CAC7B,aAAa,QACZ,OACA,KAAK,UAAUd,EAAQ,MAAM,EAAE,OAAOK,GAAWA,EAAQ,KAAOS,CAAQ,CAAC,CAC3E,CACA,CAIA,SAASC,EAAWV,EAAS,CAC5B,MAAMW,EAAiB,SAAS,cAAc,IAAI,EAClD,WAAW,IAAM,CAChBA,EAAe,UAAU,OAAO,UAAU,CAC1C,EAAE,GAAG,EACNA,EAAe,YAAcX,EAE7B,MAAMY,EAAe,SAAS,cAAc,QAAQ,EACpDA,EAAa,aAAa,OAAQ,QAAQ,EAC1CA,EAAa,aACZ,UACA,GAAGjB,EAAQ,MAAM,EAAE,SAASkB,GAAKA,EAAE,OAASb,CAAO,EAAE,EAAE,EACzD,EACCY,EAAa,YAAc,WAE3BA,EAAa,iBAAiB,QAASE,GAAK,CAC3CH,EAAe,UAAU,OAAO,UAAU,EAC1C,WAAW,IAAM,CAChBH,EAAWM,EAAE,OAAO,QAAQ,EAAE,EAC9BV,EAAK,YAAYU,EAAE,OAAO,aAAa,CACvC,EAAE,GAAG,CACR,CAAE,EAEDH,EAAe,YAAYC,CAAY,EACvCR,EAAK,YAAYO,CAAc,CAChC,CAIA,SAASI,GAAa,CACrB,GAAI,CAACpB,EAAQ,MAAM,EAAE,OAAQ,CAC5BS,EAAK,UAAY,GACjB,MACA,CACDA,EAAK,UAAY,GACGT,EAAQ,MAAM,EACtB,QAAQK,GAAWU,EAAWV,EAAQ,IAAI,CAAC,CACxD,CAIA,SAASgB,GAAY,CACpB,aAAa,WAAW,MAAM,EAC9BD,GACD,CAKAR,EAAU,YAAc,aACxBD,EAAK,OAAOC,CAAS,EACrBF,EAAY,UAAU,IAAI,iBAAiB,EAC3CA,EAAY,aAAa,OAAQ,QAAQ,EACzCA,EAAY,YAAc,iBAC1BC,EAAK,OAAOD,CAAW,EAEvBC,EAAK,iBAAiB,SAAUQ,GAAK,CAEpC,GADAA,EAAE,eAAc,EACZ,CAACR,EAAK,SAAS,SAAS,MAAM,KAAI,EAAI,CACzCA,EAAK,MAAK,EACV,MACA,CAED,MAAMW,EAAcX,EAAK,SAAS,SAAS,MAAM,OAEjDP,EAAQkB,CAAW,EACnBP,EAAWO,CAAW,EACtBX,EAAK,MAAK,CACX,CAAC,EAEDD,EAAY,iBAAiB,QAASW,CAAS,EAE/CD,EAAY"}